import{d as Mt,r as g,X as Pe,c as P,o as Jt,b as T,f as c,t as a,q as o,C as p,u as w,as as Y,ah as v,bd as Wt,bf as Ae,aM as Bt,bC as Lt,bk as Xt,H as N,D as k,S as Kt,aF as Gt,p as D,bo as Zt,bD as Qt,b0 as Yt,bE as ea,F as Ee,B as $e,y as pe,bc as ta,bh as Ue,au as aa,bg as la,az as oa,be as na,a1 as da,aQ as Fe,x as ia,i as fe,e as _,bi as sa}from"./index.js";import{E as qe}from"./EnhancedFaultTree.js";import{a as ra}from"./index12.js";import{ai as f}from"./index4.js";import{c as ze}from"./index8.js";import"./index11.js";import"./vnode.js";import"./scroll.js";const ua={class:"fault-tree-management"},ca={class:"page-header"},pa={class:"header-actions"},fa={class:"toolbar"},ma={class:"search-container"},va={class:"filter-container"},_a={key:0,class:"advanced-filter"},ga={class:"range-display"},wa={class:"tree-list-container"},ya={class:"tree-name-cell"},ha={class:"tree-info"},ba={class:"tree-name"},ka={class:"tree-version"},Da={class:"description-text"},Na={class:"statistics-cell"},Ca={class:"stat-item"},Va={class:"stat-item"},Ia={class:"stat-item"},Sa={class:"tags-cell"},ja={class:"time-cell"},Ra={class:"time"},Ta={class:"author"},Oa={class:"action-buttons"},xa={class:"pagination-container"},Pa={key:0,class:"preview-container"},Aa={class:"preview-header"},Ea={class:"preview-info"},$a={class:"preview-content"},Ua={key:0,class:"fault-tree-wrapper"},Fa={key:1,class:"empty-state"},qa={key:0,class:"edit-container"},za={class:"node-editor"},Ha={class:"editor-toolbar"},Ma={class:"selected-node-info"},Ja={class:"editor-content"},Wa={class:"tree-preview"},Ba={key:0,class:"fault-tree-wrapper"},La={key:1,class:"empty-state"},Xa={class:"dialog-footer"},Ka={class:"condition-helper"},Ga={class:"dialog-footer"},Za=Mt({__name:"FaultTreeManagement",setup(Qa){const ee=g(!1),te=g(!1),ae=g(!1),y=Pe({keyword:"",status:[],category:[],equipment_type:[]}),me=g(null),W=g([0,200]),I=g([]),le=g([]),S=Pe({currentPage:1,pageSize:20}),oe=g(!1),O=g(null),$=g(!1),l=g(null),H=g("create"),B=g("basic"),j=g(!1),r=g(null),V=g("create"),h=g(null),ve=g(null),R=g(null),U=g(!1),L=g(0),ne=g(!1),X=g(""),_e=g(),He={name:[{required:!0,message:"è¯·è¾“å…¥æ•…éšœæ ‘åç§°",trigger:"blur"},{min:1,max:100,message:"åç§°é•¿åº¦åº”åœ¨ 1 åˆ° 100 ä¸ªå­—ç¬¦",trigger:"blur"}],version:[{required:!0,message:"è¯·è¾“å…¥ç‰ˆæœ¬å·",trigger:"blur"}],category:[{required:!0,message:"è¯·é€‰æ‹©æ•…éšœç±»åˆ«",trigger:"change"}],equipment_type:[{required:!0,message:"è¯·é€‰æ‹©è®¾å¤‡ç±»å‹",trigger:"change"}]},Me={name:[{required:!0,message:"è¯·è¾“å…¥èŠ‚ç‚¹åç§°",trigger:"blur"}],type:[{required:!0,message:"è¯·é€‰æ‹©èŠ‚ç‚¹ç±»å‹",trigger:"change"}],gate_type:[{required:!0,message:"è¯·é€‰æ‹©é€»è¾‘é—¨ç±»å‹",trigger:"change"}]},ge=P(()=>{let t=I.value;if(y.keyword){const e=y.keyword.toLowerCase();t=t.filter(n=>n.metadata.name.toLowerCase().includes(e)||n.metadata.description?.toLowerCase().includes(e)||n.metadata.tags.some(d=>d.toLowerCase().includes(e)))}return y.status&&y.status.length>0&&(t=t.filter(e=>y.status.includes(e.metadata.status))),y.category&&y.category.length>0&&(t=t.filter(e=>y.category.includes(e.metadata.category))),y.equipment_type&&y.equipment_type.length>0&&(t=t.filter(e=>y.equipment_type.includes(e.metadata.equipment_type))),t}),Je=P(()=>{const t=(S.currentPage-1)*S.pageSize,e=t+S.pageSize;return ge.value.slice(t,e)});P(()=>l.value?.tree!=null),P(()=>h.value===l.value?.tree?.id),P(()=>{if(!h.value)return"";const t=h.value;if(t.includes("final_result"))return l.value?.workflowData?.ftree_json?.name?l.value.workflowData.ftree_json.name:"æ•…éšœè¯Šæ–­ç»“æœ";if(t.includes("logic_success_gate"))return"é€»è¾‘åˆ¤æ–­æ±‡æ€»";if(t.includes("h2_diagnosis"))return"H2å‡é«˜è¯Šæ–­";if(t.includes("co_co2_diagnosis"))return"CO/CO2æ¯”å€¼è¯Šæ–­";if(t.includes("three_ratio_diagnosis"))return"ä¸‰æ¯”å€¼è¯Šæ–­";if(t.includes("prpd_diagnosis"))return"PRPDå±€æ”¾ç‰¹å¾è¯Šæ–­";if(t.includes("_")){const e=t.split("_");return e[e.length-1]}return t});const We=()=>{if(!h.value||!l.value?.workflowData?.ftree_json)return h.value||"";let t=h.value;t.endsWith("ç»“æœ")&&(t=t.replace("ç»“æœ",""));const e=C(l.value.workflowData.ftree_json,t);return e&&e.name?e.name:h.value},Be=()=>{if(!r.value?.parent_id||!l.value?.tree)return"";const t=C(l.value.tree,r.value.parent_id);return t?t.name:""},Le=()=>{S.currentPage=1},K=()=>{S.currentPage=1},Xe=t=>{t?y.date_range={start:t[0].toISOString(),end:t[1].toISOString()}:delete y.date_range,K()},Ke=t=>{y.node_count_range={min:t[0],max:t[1]},K()},Ge=()=>{Se()},Ze=t=>{le.value=t},Qe=t=>{we(t)},Ye=()=>{S.currentPage=1},et=()=>{},we=t=>{console.log("é¢„è§ˆæ•…éšœæ ‘æ•°æ®:",t),console.log("æ•…éšœæ ‘ç»“æ„:",t.tree),console.log("ft_jsonæ•°æ®:",t.tree_data?.ftree_json),O.value=t,oe.value=!0},tt=t=>{console.log("é¢„è§ˆèŠ‚ç‚¹ç‚¹å‡»:",t)},at=t=>{console.log("é¢„è§ˆèŠ‚ç‚¹åŒå‡»:",t)},G=P(()=>{if(!O.value)return null;const t=O.value.workflowData||(O.value.tree_data?.ftree_json?{ftree_json:O.value.tree_data.ftree_json}:null);return console.log("é¢„è§ˆworkflowData:",t),t?.ftree_json&&(console.log("é¢„è§ˆæ¨¡å¼ - æ ¹èŠ‚ç‚¹åç§°:",t.ftree_json.name),console.log("é¢„è§ˆæ¨¡å¼ - æ ¹èŠ‚ç‚¹ç±»å‹:",t.ftree_json.type),console.log("é¢„è§ˆæ¨¡å¼ - æ ¹èŠ‚ç‚¹å­èŠ‚ç‚¹æ•°:",t.ftree_json.children?.length||0),t.ftree_json.children&&t.ftree_json.children.forEach((e,n)=>{console.log(`é¢„è§ˆæ¨¡å¼ - å­èŠ‚ç‚¹${n}: ${e.name} (${e.type}) - å­èŠ‚ç‚¹æ•°: ${e.children?.length||0}`)})),t}),ye=P(()=>{if(!l.value)return null;if(l.value.tree){const e={ftree_json:l.value.tree};return console.log("editWorkflowData - ä½¿ç”¨ç¼–è¾‘å™¨åˆ›å»ºçš„treeæ•°æ®"),console.log("editWorkflowData - æ ¹èŠ‚ç‚¹:",l.value.tree.name),console.log("editWorkflowData - å­èŠ‚ç‚¹æ•°:",l.value.tree.children?.length||0),e}const t=l.value.workflowData||(l.value.tree_data?.ftree_json?{ftree_json:l.value.tree_data.ftree_json}:null);return console.log("editWorkflowData - ä½¿ç”¨åŸæœ‰æ•°æ®æ ¼å¼"),console.log("editWorkflowData - è¿”å›æ•°æ®èŠ‚ç‚¹æ•°:",t?.ftree_json?.children?.length||0),t}),lt=P(()=>l.value?!!(l.value.tree||l.value.workflowData||l.value.tree_data?.ftree_json):!1),ot=()=>{if(!l.value)return null;const t=l.value.workflowData||(l.value.tree_data?.ftree_json?{ftree_json:l.value.tree_data.ftree_json}:null);return console.log("ğŸ”§ getEditWorkflowData è¿”å›:",t),t},nt=()=>{H.value="create",l.value=Ne(),B.value="basic",$.value=!0},dt=t=>{console.log("ğŸ”§ === ç¼–è¾‘æ¨¡å¼è°ƒè¯•å¼€å§‹ ==="),console.log("ğŸ”§ ç¼–è¾‘å‰çš„åŸå§‹æ•°æ®:",t),console.log("ğŸ”§ ç¼–è¾‘å‰çš„workflowData:",t.workflowData),console.log("ğŸ”§ ç¼–è¾‘å‰çš„workflowData.ftree_json:",t.workflowData?.ftree_json),O.value=t,console.log("ğŸ”§ åŒæ—¶è®¾ç½®é¢„è§ˆæ•°æ®ï¼Œç¡®ä¿æ•°æ®ä¸€è‡´æ€§"),t.workflowData?.ftree_json&&(console.log("ğŸ”§ åŸå§‹æ•°æ®å­èŠ‚ç‚¹æ•°:",t.workflowData.ftree_json.children?.length||0),t.workflowData.ftree_json.children&&t.workflowData.ftree_json.children.forEach((e,n)=>{console.log(`ğŸ”§ åŸå§‹å­èŠ‚ç‚¹${n}: ${e.name} - å­èŠ‚ç‚¹æ•°: ${e.children?.length||0}`)})),H.value="edit",!t.workflowData&&t.tree_data?.ftree_json&&(t.workflowData={ftree_json:t.tree_data.ftree_json},console.log("ğŸ”§ ä»tree_dataè¡¥å……workflowData"));try{l.value=JSON.parse(JSON.stringify(t)),console.log("âœ… æ·±æ‹·è´æˆåŠŸ")}catch(e){console.error("âŒ æ·±æ‹·è´å¤±è´¥:",e),l.value=t}B.value="basic",h.value=null,L.value++,console.log("ğŸ”§ treeRenderKey æ›´æ–°ä¸º:",L.value),$.value=!0,setTimeout(()=>{console.log("ğŸ” === æ•°æ®å¯¹æ¯”æ£€æŸ¥ ==="),console.log("ğŸ” previewWorkflowData:",G.value),console.log("ğŸ” editWorkflowData:",ye.value);const e=G.value?.ftree_json,n=ye.value?.ftree_json;console.log("ğŸ” é¢„è§ˆæ•°æ®æ˜¯å¦å­˜åœ¨:",!!e),console.log("ğŸ” ç¼–è¾‘æ•°æ®æ˜¯å¦å­˜åœ¨:",!!n),e&&n&&(console.log("ğŸ” æ•°æ®æ˜¯å¦ç›¸åŒ:",JSON.stringify(e)===JSON.stringify(n)),console.log("ğŸ” é¢„è§ˆå­èŠ‚ç‚¹æ•°:",e.children?.length||0),console.log("ğŸ” ç¼–è¾‘å­èŠ‚ç‚¹æ•°:",n.children?.length||0)),console.log("ğŸ” === æ•°æ®å¯¹æ¯”æ£€æŸ¥ç»“æŸ ===")},1e3),console.log("ğŸ”§ === ç¼–è¾‘æ¨¡å¼è°ƒè¯•ç»“æŸ ===")},it=async()=>{if(l.value){te.value=!0;try{if(H.value==="create")l.value.metadata.id=F(),l.value.metadata.created_at=new Date().toISOString(),l.value.metadata.updated_at=new Date().toISOString(),l.value.metadata.created_by="å½“å‰ç”¨æˆ·",l.value.metadata.updated_by="å½“å‰ç”¨æˆ·",I.value.push(l.value),f.success("æ•…éšœæ ‘åˆ›å»ºæˆåŠŸ");else{const t=I.value.findIndex(e=>e.metadata.id===l.value.metadata.id);t!==-1&&(l.value.metadata.updated_at=new Date().toISOString(),l.value.metadata.updated_by="å½“å‰ç”¨æˆ·",I.value[t]=l.value,f.success("æ•…éšœæ ‘ä¿å­˜æˆåŠŸ"))}$.value=!1}catch{f.error("ä¿å­˜å¤±è´¥ï¼Œè¯·æ£€æŸ¥è¾“å…¥ä¿¡æ¯")}finally{te.value=!1}}},he=t=>{console.log("ğŸ–±ï¸ ç¼–è¾‘æ¨¡å¼èŠ‚ç‚¹å•å‡»:",t.name,t.id),h.value=t.id,ve.value=t.id,console.log("âœ… é€‰ä¸­èŠ‚ç‚¹è¿›è¡Œç¼–è¾‘:",t.name)},be=t=>{console.log("ğŸ–±ï¸ ç¼–è¾‘æ¨¡å¼èŠ‚ç‚¹åŒå‡»:",t.name,t.id),h.value=t.id,ve.value=t.id,console.log("âœ… åŒå‡»æŸ¥çœ‹èŠ‚ç‚¹è¯¦æƒ…:",t.name),ke()},st=()=>{l.value||(l.value=Ne()),V.value="create",r.value={id:F(),name:"",type:"fault_node",level:"æ ¹èŠ‚ç‚¹",description:"",state:"unknown",isRoot:!0},j.value=!0},rt=()=>{if(l.value?.workflowData?.ftree_json){const e=l.value.workflowData.ftree_json;let n=e;if(window.selectedNodeIdRef&&window.selectedNodeIdRef.value){const d=window.selectedNodeIdRef.value;n=C(e,d)||e}V.value="create",r.value={name:"",type:"fault_node",level:`C${Date.now()}`,description:"",children:[],parent_node:n},j.value=!0;return}if(!l.value?.tree){f.warning("è¯·å…ˆæ·»åŠ æ ¹èŠ‚ç‚¹");return}let t=h.value;window.selectedNodeIdRef&&window.selectedNodeIdRef.value&&(t=window.selectedNodeIdRef.value),t||(t=l.value.tree.id),V.value="create",r.value={id:F(),name:"",type:"fault_node",level:"å­èŠ‚ç‚¹",description:"",state:"unknown",parent_id:t},j.value=!0},ut=()=>{if(!l.value?.tree&&!l.value?.workflowData?.ftree_json){f.warning("è¯·å…ˆæ·»åŠ æ ¹èŠ‚ç‚¹");return}V.value="create",r.value={id:F(),name:"",type:"fault_node",level:"å…„å¼ŸèŠ‚ç‚¹",description:"",state:"unknown",isSibling:!0},j.value=!0},ke=()=>{if(l.value?.workflowData?.ftree_json){const d=l.value.workflowData.ftree_json;let s=d;if(window.selectedNodeIdRef&&window.selectedNodeIdRef.value){let b=window.selectedNodeIdRef.value;console.log("ğŸ” åŸå§‹æŸ¥æ‰¾èŠ‚ç‚¹ID:",b),b.endsWith("ç»“æœ")&&(b=b.replace("ç»“æœ",""),console.log("ğŸ” å»æ‰ç»“æœåç¼€çš„ID:",b)),console.log("ğŸ” æ ¹èŠ‚ç‚¹ç»“æ„:",d);const M=C(d,b);console.log("ğŸ” æ‰¾åˆ°çš„èŠ‚ç‚¹:",M),M?s=M:(console.warn("âš ï¸ æœªæ‰¾åˆ°åŒ¹é…çš„èŠ‚ç‚¹ï¼Œä½¿ç”¨æ ¹èŠ‚ç‚¹"),s=d)}V.value="edit",R.value=JSON.parse(JSON.stringify(s)),console.log("ğŸ”§ å‡†å¤‡ç¼–è¾‘çš„èŠ‚ç‚¹æ•°æ®:",s);const m=window.selectedNodeIdRef&&window.selectedNodeIdRef.value&&!window.selectedNodeIdRef.value.endsWith("ç»“æœ")&&(s.type==="gate_and"||s.type==="gate_or"||s.type==="gate_not");console.log("ğŸ”§ æ˜¯å¦ç‚¹å‡»é€»è¾‘é—¨ç¬¦å·:",m);const u=JSON.parse(JSON.stringify(s));console.log("ğŸ”§ å¤åˆ¶åçš„èŠ‚ç‚¹æ•°æ®:",u),u.type==="gate_and"||u.type==="gate_or"||u.type==="gate_not"?(u.type="logic_gate",s.type==="gate_and"?u.gate_type="AND":s.type==="gate_or"?u.gate_type="OR":s.type==="gate_not"&&(u.gate_type="NOT"),u.condition=s.condition||"",u.state=s.state||"unknown",m&&(u.hideNameField=!0)):(u.type==="component"||u.type==="top_event")&&(u.type="fault_node"),console.log("ğŸ”§ è½¬æ¢åçš„è¡¨å•æ•°æ®:",u),r.value=u,U.value=!0,j.value=!0;return}if(!l.value?.tree){f.warning("è¯·å…ˆæ·»åŠ æ ¹èŠ‚ç‚¹");return}let t=h.value;window.selectedNodeIdRef&&window.selectedNodeIdRef.value&&(t=window.selectedNodeIdRef.value),t||(t=l.value.tree.id);const e=C(l.value.tree,t);if(!e){f.error("æ‰¾ä¸åˆ°è¦ç¼–è¾‘çš„èŠ‚ç‚¹");return}V.value="edit",R.value=JSON.parse(JSON.stringify(e));const n=JSON.parse(JSON.stringify(e));if(n.type==="gate_and"||n.type==="gate_or"||n.type==="gate_not"){n.type="logic_gate";const d=e.type;d==="gate_and"?n.gate_type="AND":d==="gate_or"?n.gate_type="OR":d==="gate_not"&&(n.gate_type="NOT"),n.condition=e.condition||"",n.state=e.state||"unknown"}else(n.type==="component"||n.type==="top_event")&&(n.type="fault_node");r.value=n,U.value=!0,j.value=!0},ct=async()=>{if(!l.value?.tree&&!l.value?.workflowData?.ftree_json){f.warning("æ²¡æœ‰å¯åˆ é™¤çš„èŠ‚ç‚¹");return}let t=h.value;if(window.selectedNodeIdRef&&window.selectedNodeIdRef.value&&(t=window.selectedNodeIdRef.value),!t){f.warning("è¯·å…ˆé€‰æ‹©è¦åˆ é™¤çš„èŠ‚ç‚¹");return}try{let e=null,n="æœªçŸ¥èŠ‚ç‚¹";if(l.value.tree?(e=C(l.value.tree,t),n=e?.name||t):l.value.workflowData?.ftree_json&&(e=C(l.value.workflowData.ftree_json,t),n=e?.name||t),!e){f.error("æ‰¾ä¸åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹");return}if(await ze.confirm(`ç¡®å®šè¦åˆ é™¤èŠ‚ç‚¹"${n}"å—ï¼Ÿåˆ é™¤åæ— æ³•æ¢å¤ã€‚`,"ç¡®è®¤åˆ é™¤",{type:"warning"}),l.value.tree&&t===l.value.tree.id||l.value.workflowData?.ftree_json&&t===l.value.workflowData.ftree_json.name)l.value.tree=null,l.value.workflowData&&(l.value.workflowData.ftree_json=null),f.success("æ ¹èŠ‚ç‚¹åˆ é™¤æˆåŠŸ");else{let s=!1;if(l.value.tree&&(s=ie(l.value.tree,t)),l.value.workflowData?.ftree_json){const m=ie(l.value.workflowData.ftree_json,t);s=s||m}f.success("èŠ‚ç‚¹åˆ é™¤æˆåŠŸ")}h.value=null,window.selectedNodeIdRef&&(window.selectedNodeIdRef.value=null)}catch{}},pt=async()=>{if(!r.value||!l.value)return;if(!r.value.name||r.value.name.trim()===""){f.error("èŠ‚ç‚¹åç§°ä¸èƒ½ä¸ºç©º");return}if(l.value.workflowData?.ftree_json)if(V.value==="create"){const e=r.value.name.trim(),n=de(l.value.workflowData.ftree_json,e);n!==e&&f.warning(`èŠ‚ç‚¹åç§°"${e}"å·²å­˜åœ¨ï¼Œè‡ªåŠ¨é‡å‘½åä¸º"${n}"`);const d={name:n,type:r.value.type==="logic_gate"?r.value.gate_type==="AND"?"gate_and":r.value.gate_type==="OR"?"gate_or":"gate_not":"component",level:r.value.level||`C${Date.now()}`,description:r.value.description||"",children:[]};if(r.value.type==="logic_gate"&&(d.gate_type=r.value.gate_type,d.condition=r.value.condition||"",d.state=r.value.state||"unknown",r.value.condition&&(d.children=Ce(r.value.condition))),r.value.isSibling)l.value.workflowData.ftree_json.children||(l.value.workflowData.ftree_json.children=[]),l.value.workflowData.ftree_json.children.push(d),f.success(`${r.value.type==="logic_gate"?"é€»è¾‘é—¨":"å…„å¼ŸèŠ‚ç‚¹"}åˆ›å»ºæˆåŠŸ`);else if(r.value.parent_node){const s=r.value.parent_node;s.children||(s.children=[]),s.children.push(d),f.success(`${r.value.type==="logic_gate"?"é€»è¾‘é—¨":"å­èŠ‚ç‚¹"}åˆ›å»ºæˆåŠŸ`)}else l.value.workflowData.ftree_json.children||(l.value.workflowData.ftree_json.children=[]),l.value.workflowData.ftree_json.children.push(d),f.success(`${r.value.type==="logic_gate"?"é€»è¾‘é—¨":"èŠ‚ç‚¹"}åˆ›å»ºæˆåŠŸ`)}else{const e=l.value.workflowData.ftree_json,n=R.value?C(e,R.value.name||R.value.level||""):null;if(n){const d=r.value.name.trim(),s=Ve(e,d,n.name)?de(e,d):d;s!==d&&f.warning(`èŠ‚ç‚¹åç§°"${d}"å·²å­˜åœ¨ï¼Œè‡ªåŠ¨é‡å‘½åä¸º"${s}"`);const m=n.children;let u=r.value.type;r.value.type==="logic_gate"?r.value.gate_type==="AND"?u="gate_and":r.value.gate_type==="OR"?u="gate_or":r.value.gate_type==="NOT"&&(u="gate_not"):r.value.type==="fault_node"&&(u="component");const b={type:u,level:r.value.level,description:r.value.description};r.value.hideNameField||(b.name=s),Object.assign(n,b),r.value.type==="logic_gate"&&(n.gate_type=r.value.gate_type,n.condition=r.value.condition,n.state=r.value.state),n.children=m,f.success("èŠ‚ç‚¹æ›´æ–°æˆåŠŸ")}}else if(V.value==="create")if(r.value.isRoot||!l.value.tree){const e={id:r.value.id||F(),name:r.value.name.trim(),type:r.value.type||"fault_node",level:r.value.level||"æ ¹èŠ‚ç‚¹",description:r.value.description||"",state:r.value.state||"unknown",children:[]};l.value.tree=e,l.value.workflowData||(l.value.workflowData={ftree_json:{name:r.value.name.trim(),type:"top_event",level:r.value.level||"G1",description:r.value.description||"",children:[]}}),f.success("æ ¹èŠ‚ç‚¹åˆ›å»ºæˆåŠŸ")}else{const e=r.value.name.trim(),n=de(l.value.tree,e);n!==e&&f.warning(`èŠ‚ç‚¹åç§°"${e}"å·²å­˜åœ¨ï¼Œè‡ªåŠ¨é‡å‘½åä¸º"${n}"`),r.value.name=n;const d=r.value;if(r.value.isSibling){if(l.value.tree.children||(l.value.tree.children=[]),l.value.tree.children.push(d),l.value.workflowData?.ftree_json){l.value.workflowData.ftree_json.children||(l.value.workflowData.ftree_json.children=[]);const s={name:d.name,type:d.type==="logic_gate"?d.gate_type==="AND"?"gate_and":d.gate_type==="OR"?"gate_or":"gate_not":"component",level:d.level||`C${Date.now()}`,description:d.description||"",children:[]};d.type==="logic_gate"&&(s.gate_type=d.gate_type,s.condition=d.condition||"",s.state=d.state||"unknown",d.condition&&(s.children=Ce(d.condition))),l.value.workflowData.ftree_json.children.push(s)}f.success(`${d.type==="logic_gate"?"é€»è¾‘é—¨":"å…„å¼ŸèŠ‚ç‚¹"}åˆ›å»ºæˆåŠŸ`)}else if(d.parent_id){if(d.parent_id===l.value.tree.id)l.value.tree.children||(l.value.tree.children=[]),l.value.tree.children.push(d);else{const s=C(l.value.tree,d.parent_id);s&&(s.children||(s.children=[]),s.children.push(d))}f.success(`${d.type==="logic_gate"?"é€»è¾‘é—¨":"å­èŠ‚ç‚¹"}åˆ›å»ºæˆåŠŸ`)}else l.value.tree.children||(l.value.tree.children=[]),l.value.tree.children.push(d),f.success("èŠ‚ç‚¹åˆ›å»ºæˆåŠŸ")}else{const e=r.value?.id&&l.value.tree?C(l.value.tree,r.value.id):null;if(e){const n=e.children;Object.assign(e,r.value),e.children=n,f.success("èŠ‚ç‚¹æ›´æ–°æˆåŠŸ")}}U.value=!1,R.value=null,j.value=!1,se(),await fe();const t=h.value||window.selectedNodeIdRef&&window.selectedNodeIdRef.value;if(l.value){const e=l.value;l.value=null,await fe(),l.value=e}t&&setTimeout(()=>{h.value=t,window.selectedNodeIdRef&&(window.selectedNodeIdRef.value=t);const e=document.querySelector(`[data-node-id="${t}"]`);if(e){const n=e;n.style.border="3px solid #409EFF",n.style.boxShadow="0 0 15px rgba(64, 158, 255, 0.5)",n.style.background="linear-gradient(135deg, #E6F3FF, #FFFFFF)",n.style.transform="scale(1.02)"}},200)},ft=async(t,e)=>{switch(t){case"clone":await mt(e);break;case"export":await vt();break;case"template":await _t(e);break;case"archive":await gt(e);break;case"activate":await wt(e);break;case"delete":await yt(e);break}},mt=async t=>{const e=JSON.parse(JSON.stringify(t));e.metadata.id=F(),e.metadata.name=`${t.metadata.name} - å‰¯æœ¬`,e.metadata.created_at=new Date().toISOString(),e.metadata.updated_at=new Date().toISOString(),e.metadata.version="1.0.0",I.value.push(e),f.success("æ•…éšœæ ‘å…‹éš†æˆåŠŸ")},vt=async t=>{f.info("å¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­...")},_t=async t=>{t.metadata.is_template=!0,t.metadata.updated_at=new Date().toISOString(),f.success("å·²è®¾ç½®ä¸ºæ¨¡æ¿")},gt=async t=>{t.metadata.status="archived",t.metadata.updated_at=new Date().toISOString(),f.success("æ•…éšœæ ‘å·²å½’æ¡£")},wt=async t=>{t.metadata.status="active",t.metadata.updated_at=new Date().toISOString(),f.success("æ•…éšœæ ‘å·²æ¿€æ´»")},yt=async t=>{try{await ze.confirm(`ç¡®å®šè¦åˆ é™¤æ•…éšœæ ‘"${t.metadata.name}"å—ï¼Ÿåˆ é™¤åæ— æ³•æ¢å¤ã€‚`,"ç¡®è®¤åˆ é™¤",{type:"warning"});const e=I.value.findIndex(n=>n.metadata.id===t.metadata.id);e!==-1&&(I.value.splice(e,1),f.success("æ•…éšœæ ‘åˆ é™¤æˆåŠŸ"))}catch{}},ht=()=>{if(le.value.length===0){f.warning("è¯·å…ˆé€‰æ‹©è¦å¯¼å‡ºçš„æ•…éšœæ ‘");return}f.info("æ‰¹é‡å¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­...")},bt=()=>{f.info("å¯¼å…¥åŠŸèƒ½å¼€å‘ä¸­...")},kt=t=>{if(l.value){const e=l.value.metadata.tags.indexOf(t);e!==-1&&l.value.metadata.tags.splice(e,1)}},Dt=()=>{ne.value=!0,fe(()=>{_e.value?.focus()})},De=()=>{const t=X.value.trim();t&&l.value&&(l.value.metadata.tags.includes(t)||l.value.metadata.tags.push(t)),ne.value=!1,X.value=""},Nt=t=>({draft:"info",active:"success",archived:"warning",template:"primary"})[t],Ct=t=>({draft:"è‰ç¨¿",active:"æ´»è·ƒ",archived:"å½’æ¡£",template:"æ¨¡æ¿"})[t],Vt=t=>({transformer:"å˜å‹å™¨",switch:"å¼€å…³",busbar:"æ¯çº¿",protection:"ä¿æŠ¤ç³»ç»Ÿ"})[t]||t,It=t=>new Date(t).toLocaleString("zh-CN"),St=(t,e)=>t?t.length>e?t.substring(0,e)+"...":t:"",F=()=>Math.random().toString(36).substr(2,9),Ne=()=>({metadata:{id:"",name:"",description:"",status:"draft",category:"transformer",equipment_type:"power_transformer",version:"1.0.0",created_by:"å½“å‰ç”¨æˆ·",created_at:"",updated_by:"å½“å‰ç”¨æˆ·",updated_at:"",tags:[],node_count:0,gate_count:0,depth:0,is_template:!1,permissions:{canView:!0,canEdit:!0,canDelete:!0,canExport:!0,canClone:!0}},tree:null}),Ce=t=>{if(!t)return[];const e=[];return t.split(/\s+(?:AND|OR|and|or)\s+|[\n\r]+/).map(d=>d.trim()).filter(d=>d.length>0).forEach((d,s)=>{const m=d.trim();m&&e.push({name:m,type:"component",level:`L${s+1}`,description:`åˆ¤æ–­æ¡ä»¶: ${m}`,condition:m,children:[]})}),e},Ve=(t,e,n)=>{const d=s=>{const m="id"in s?s.id:s.name;if(n&&(m===n||s.name===n))return!1;if(s.name===e)return!0;if(s.children&&Array.isArray(s.children)){for(const u of s.children)if(d(u))return!0}return!1};return d(t)},de=(t,e)=>{let n=e,d=1;for(;Ve(t,n);)n=`${e} (${d})`,d++;return n},C=(t,e)=>{if(("id"in t?t.id:t.name)===e||t.name===e||t.level===e)return t;if(t.children)for(const d of t.children){const s=C(d,e);if(s)return s}return null},ie=(t,e)=>{if(t.children){const n=t.children.findIndex(d=>("id"in d?d.id:d.name)===e||d.name===e);if(n!==-1)return t.children.splice(n,1),!0;for(const d of t.children)if(ie(d,e))return!0}return!1},se=()=>{if(!l.value?.tree){l.value.metadata.node_count=0,l.value.metadata.gate_count=0,l.value.metadata.depth=0;return}const t=Ie(l.value.tree);l.value.metadata.node_count=t.nodeCount,l.value.metadata.gate_count=t.gateCount,l.value.metadata.depth=t.depth},Ie=t=>{let e=1,n=t.type==="logic_gate"?1:0,d=1;if(t.children)for(const s of t.children){const m=Ie(s);e+=m.nodeCount,n+=m.gateCount,d=Math.max(d,m.depth+1)}return{nodeCount:e,gateCount:n,depth:d}},Se=async()=>{ee.value=!0;try{const t=await ra({mindmap:"å˜å‹å™¨æ•…éšœç±»å‹è¯Šæ–­PlantUMLä»£ç ",prompt:"æç¤ºè¯",feedback:"åé¦ˆ",auto_evaluated:!1,llm_config:{model:"æ¨¡å‹åç§°",api_key:"é‰´æƒç§˜é’¥",base_url:"è¯·æ±‚åœ°å€",temperature:.1,top_p:.1}});if(console.log("APIå“åº”æ•°æ®:",t.data),t.data){const e=Rt(t.data);I.value=e,e.length>0&&f.success(`æˆåŠŸåŠ è½½ ${e.length} ä¸ªæ•…éšœæ ‘`)}else I.value=re(),f.warning("APIè°ƒç”¨å¤±è´¥ï¼Œä½¿ç”¨ç¤ºä¾‹æ•°æ®")}catch(t){console.error("APIè°ƒç”¨å¤±è´¥:",t),I.value=re(),f.error("APIè°ƒç”¨å¤±è´¥ï¼Œå·²åŠ è½½ç¤ºä¾‹æ•°æ®")}finally{ee.value=!1}},jt=t=>{let e=0,n=0,d=0;const s=(m,u=0)=>{m&&(e++,d=Math.max(d,u),(m.type==="gate_or"||m.type==="gate_and")&&n++,m.children&&Array.isArray(m.children)&&m.children.forEach(b=>s(b,u+1)))};return s(t),{nodeCount:e,gateCount:n,depth:d}},Rt=t=>{try{let e=null;t["data-ft_json"]?e=t["data-ft_json"]:t.ft_json?e=t.ft_json:t.data&&t.data.ft_json?e=t.data.ft_json:e=t,console.log("ğŸ” åŸå§‹APIæ•°æ®:",e),console.log("ğŸ” APIæ•°æ®ç»“æ„å±‚çº§:",JSON.stringify(e,null,2));const d={metadata:{id:"api-001",name:`${e?.name||"å˜å‹å™¨æ•…éšœç±»å‹è¯Šæ–­"}ï¼ˆAPIæ•°æ®ï¼‰`,description:"åŸºäºAPIæ¥å£è·å–çš„æ•…éšœæ ‘æ•°æ®ï¼Œä½¿ç”¨ä¸Test1Viewå®Œå…¨ç›¸åŒçš„æ•°æ®æ ¼å¼",status:"active",category:"transformer",equipment_type:"power_transformer",version:"1.0.0",created_by:"APIç³»ç»Ÿ",created_at:new Date().toISOString(),updated_by:"APIç³»ç»Ÿ",updated_at:new Date().toISOString(),tags:["APIæ•°æ®","æ•…éšœè¯Šæ–­","å˜å‹å™¨","Test1Viewæ ¼å¼"],node_count:0,gate_count:0,depth:0,is_template:!1,permissions:{canView:!0,canEdit:!0,canDelete:!0,canExport:!0,canClone:!0}},workflowData:{ftree_json:e},analysis:{complexity:"medium",coverage:85,last_validated:new Date().toISOString(),validation_status:"valid"}},s=jt(e);return d.metadata.node_count=s.nodeCount,d.metadata.gate_count=s.gateCount,d.metadata.depth=s.depth,console.log("âœ… åˆ›å»ºçš„æ•…éšœæ ‘æ•°æ®ï¼ˆTest1Viewæ ¼å¼ï¼‰:",d),console.log("âœ… workflowDataå†…å®¹:",d.workflowData),[d]}catch(e){return console.error("âŒ å¤„ç†APIæ•°æ®å¤±è´¥:",e),re()}},re=()=>[{metadata:{id:"demo-001",name:"æœ¬ä½“å¼‚å¸¸äº§æ°”æ•…éšœè¯Šæ–­ï¼ˆä¸“ä¸šç¤ºä¾‹ï¼‰",description:"åŸºäºå›½ç½‘æ ‡å‡†çš„å˜å‹å™¨æœ¬ä½“å¼‚å¸¸äº§æ°”æ•…éšœè¯Šæ–­å†³ç­–æ ‘ï¼ŒåŒ…å«ä¸‰æ¯”å€¼åˆ†æã€DPMåˆ†æå’ŒPRPDå±€æ”¾ç‰¹å¾åˆ†æ",status:"template",category:"transformer",equipment_type:"power_transformer",version:"2.0.0",created_by:"æŠ€æœ¯ä¸“å®¶",created_at:"2024-08-15T15:00:00Z",updated_by:"æŠ€æœ¯ä¸“å®¶",updated_at:"2024-08-15T15:00:00Z",tags:["DGAåˆ†æ","ä¸‰æ¯”å€¼æ³•","DPMåˆ†æ","PRPDåˆ†æ","æœ¬ä½“æ•…éšœ","demo"],node_count:25,gate_count:8,depth:5,is_template:!0,permissions:{canView:!0,canEdit:!0,canDelete:!1,canExport:!0,canClone:!0}},tree:{id:"transformer_root",name:"å˜å‹å™¨æ•…éšœè¯Šæ–­",type:"fault_node",level:"æ ¹èŠ‚ç‚¹",description:"å˜å‹å™¨è¿è¡ŒçŠ¶æ€æ•…éšœæ ‘æ ¹èŠ‚ç‚¹",children:[{id:"logic_success_gate",name:"é€»è¾‘åˆ¤æ–­æ±‡æ€»",type:"logic_gate",gate_type:"OR",state:"unknown",condition:"ä»»ä¸€é€»è¾‘é—¨åˆ¤æ–­æˆåŠŸ",children:[{id:"h2_diagnosis_node",name:"H2å‡é«˜è¯Šæ–­",type:"fault_node",level:"ä¸­é—´å±‚",description:"åŸºäºH2æµ“åº¦çš„æ•…éšœè¯Šæ–­",children:[{id:"h2_check",name:"ä»…H2å‡é«˜åˆ¤æ–­",type:"logic_gate",gate_type:"AND",state:"unknown",condition:"H2å‡é«˜ AND (CH4å°‘é‡æˆ–æ— )",input_nodes:["input"],output_nodes:["moisture_result"],children:[{id:"h2_high",name:"H2å‡é«˜",type:"fault_node",description:"H2æµ“åº¦å¼‚å¸¸å‡é«˜",recommendation:"æ£€æŸ¥æ°¢æ°”æµ“åº¦æŒ‡æ ‡"},{id:"ch4_low",name:"CH4å°‘é‡æˆ–æ— ",type:"fault_node",description:"CH4æµ“åº¦æ­£å¸¸æˆ–è¾ƒä½",recommendation:"ç¡®è®¤ç”²çƒ·æµ“åº¦æ°´å¹³"}]}]},{id:"co_co2_diagnosis_node",name:"CO/CO2æ¯”å€¼è¯Šæ–­",type:"fault_node",level:"ä¸­é—´å±‚",description:"åŸºäºCOå’ŒCO2æ¯”å€¼çš„æ•…éšœè¯Šæ–­",children:[{id:"co_co2_check",name:"CO/CO2æ¯”å€¼åˆ¤æ–­",type:"logic_gate",gate_type:"AND",state:"unknown",condition:"COã€CO2å‡é«˜ AND CO2/CO > 3",input_nodes:["input"],output_nodes:["solid_insulation"],children:[{id:"co_co2_high",name:"COã€CO2å‡é«˜",type:"fault_node",description:"ä¸€æ°§åŒ–ç¢³å’ŒäºŒæ°§åŒ–ç¢³æµ“åº¦å‡é«˜",recommendation:"æ£€æŸ¥ç»ç¼˜ææ–™è€åŒ–æƒ…å†µ"},{id:"co2_co_ratio",name:"CO2/CO > 3",type:"fault_node",description:"äºŒæ°§åŒ–ç¢³ä¸ä¸€æ°§åŒ–ç¢³æ¯”å€¼å¤§äº3",recommendation:"ç¡®è®¤ç»ç¼˜çº¸å—çƒ­åˆ†è§£"}]}]},{id:"three_ratio_diagnosis_node",name:"ä¸‰æ¯”å€¼è¯Šæ–­",type:"fault_node",level:"ä¸­é—´å±‚",description:"åŸºäºä¸‰æ¯”å€¼æ³•çš„æ•…éšœè¯Šæ–­",children:[{id:"three_ratio_branch",name:"ä¸‰æ¯”å€¼è¯Šæ–­åˆ†æ”¯",type:"logic_gate",gate_type:"OR",state:"unknown",condition:"æ ¹æ®ä¸‰æ¯”å€¼ä»£ç åˆ†ç±»",input_nodes:["input"],output_nodes:["thermal_branch","discharge_branch"],children:[{id:"thermal_branch",name:"è¿‡çƒ­æ•…éšœåˆ†æ”¯(0xx)",type:"logic_gate",gate_type:"OR",state:"unknown",condition:"ä¸‰æ¯”å€¼ä»£ç ï¼š0xx AND DPMä½äºT1ã€T2ã€T3åŒºåŸŸ",children:[{id:"t2_fault",name:"ä¸­æ¸©è¿‡çƒ­(021/T2)",type:"fault_node",description:"300~700â„ƒä¸­æ¸©è¿‡çƒ­",recommendation:"æ£€æŸ¥çº¿åœˆå¯¼çº¿ç„Šæ¥ç¼ºé™·ã€å¼•çº¿ç»ç¼˜ç ´æŸã€å¼•çº¿è¿æ¥ç¼ºé™·ç­‰"},{id:"t3_fault",name:"é«˜æ¸©è¿‡çƒ­(022/T3)",type:"fault_node",description:"700â„ƒä»¥ä¸Šé«˜æ¸©è¿‡çƒ­",recommendation:"æ£€æŸ¥é“èŠ¯åŠå¤¹ä»¶ç¯æµã€å¯¼çº¿ç„Šæ¥ç¼ºé™·ã€æœªæœ‰æ•ˆè¿æ¥æ¥è§¦ç”µé˜»åå¤§ç­‰"}]},{id:"discharge_branch",name:"æ”¾ç”µæ•…éšœåˆ†æ”¯(1xx,2xx)",type:"logic_gate",gate_type:"OR",state:"unknown",condition:"ä¸‰æ¯”å€¼ä»£ç ï¼š1xxã€2xx AND DPMä½äºD1ã€D2ã€DPåŒºåŸŸ",children:[{id:"high_energy_discharge",name:"é«˜èƒ½æ”¾ç”µ(1XX/D2)",type:"fault_node",description:"æ²¹ä¸­é«˜èƒ½æ”¾ç”µã€ç”µå¼§æ”¾ç”µï¼Œå¸¸è§102",recommendation:"æ£€æŸ¥é™ç”µæ¿ç­‰ç”µä½çº¿æ–­è£‚ã€é“å¿ƒæ¥åœ°çº¿è™šæ¥ã€çº¿åœˆåŒé—´å±‚é—´çŸ­è·¯"},{id:"low_energy_discharge",name:"ä½èƒ½æ”¾ç”µ(2XX/D1)",type:"fault_node",description:"æ²¹ä¸­ä½èƒ½æ”¾ç”µã€ç«èŠ±æ”¾ç”µï¼Œå¸¸è§20x",recommendation:"æ£€æŸ¥é“å¿ƒæ¥åœ°çº¿è¿æ¥ã€å‹æ¿ç­‰ç”µä½è¿æ¥ã€æ²¹ä¸­é‡‘å±å¼‚ç‰©ç­‰"}]}]}]},{id:"prpd_diagnosis_node",name:"PRPDå±€æ”¾ç‰¹å¾è¯Šæ–­",type:"fault_node",level:"ä¸­é—´å±‚",description:"åŸºäºPRPDå›¾è°±çš„å±€æ”¾ç‰¹å¾è¯Šæ–­",children:[{id:"prpd_analysis",name:"PRPDå±€æ”¾ç‰¹å¾åˆ†æ",type:"logic_gate",gate_type:"OR",state:"unknown",condition:"åŸºäºPRPDå›¾è°±ç‰¹å¾åˆ¤æ–­",input_nodes:["input"],output_nodes:["internal_discharge","floating_discharge","corona_discharge","surface_discharge"],children:[{id:"internal_discharge",name:"ç»ç¼˜æ”¾ç”µ",type:"fault_node",description:"PRPDå¯¹ç§°æ€§å¼ºï¼Œç›¸ä½çª—å£å®½(60Â°~90Â°)",recommendation:"æ£€æŸ¥é“èŠ¯å¤¹ä»¶ç»ç¼˜ã€å‹æ¿ç»ç¼˜ç¼ºé™·ã€ç»ç¼˜è€åŒ–æŸä¼¤ç­‰"},{id:"floating_discharge",name:"æ‚¬æµ®æ”¾ç”µ",type:"fault_node",description:"PRPDå¯¹ç§°åˆ†å¸ƒï¼Œç›¸ä½çª—å£çª„(30Â°~45Â°)",recommendation:"æ£€æŸ¥ç­‰ç”µä½é‡‘å±å¯¼çº¿æ¾åŠ¨ã€é‡‘å±å¼‚ç‰©é™„ç€ã€æ¥è§¦ä¸è‰¯ç­‰"},{id:"corona_discharge",name:"å°–ç«¯æ”¾ç”µ",type:"fault_node",description:"PRPDå•æåˆ†å¸ƒï¼Œä»…å­˜äºæ­£åŠå‘¨æˆ–è´ŸåŠå‘¨",recommendation:"æ£€æŸ¥é‡‘å±åŠ å·¥ç²—ç³™ã€å®‰è£…ç¼ºé™·é€ æˆçš„å°–è§’æ¯›åˆºç­‰"},{id:"surface_discharge",name:"æ²¿é¢æ”¾ç”µ",type:"fault_node",description:"PRPDä¸å¯¹ç§°åˆ†å¸ƒï¼Œç›¸ä½çª—å£æå®½(>100Â°)",recommendation:"æ£€æŸ¥ç»ç¼˜è¡¨é¢æ±¡æŸ“ã€å—æ½®ã€è¡¨é¢ç»ç¼˜è€åŒ–ç­‰"}]}]}]}]}}],A=async()=>{if(!U.value||!r.value||!l.value?.tree||V.value!=="edit")return;const t=C(l.value.tree,r.value.id);if(t){const e=t.children;Object.assign(t,r.value),t.children=e,se(),L.value++,console.log("å®æ—¶æ›´æ–°èŠ‚ç‚¹:",t.name,r.value)}},Tt=()=>{if(U.value&&R.value&&l.value?.tree){const t=C(l.value.tree,R.value.id);if(t){const e=t.children;Object.assign(t,R.value),t.children=e,se(),L.value++,console.log("å·²æ¢å¤èŠ‚ç‚¹åŸå§‹çŠ¶æ€:",t.name)}}U.value=!1,R.value=null,j.value=!1};return Jt(()=>{Se(),window.handleEditTreeNodeClick=he,window.handleEditTreeNodeDoubleClick=be,console.log("âœ… ç®¡ç†é¡µé¢å¤„ç†å‡½æ•°å·²æš´éœ²åˆ°å…¨å±€"),window.selectedNodeIdRef=h,console.log("âœ… selectedNodeId refå·²æš´éœ²åˆ°å…¨å±€")}),(t,e)=>{const n=v("el-button"),d=v("el-input"),s=v("el-option"),m=v("el-select"),u=v("el-form-item"),b=v("el-col"),M=v("el-date-picker"),Ot=v("el-slider"),Z=v("el-row"),ue=v("el-card"),xt=v("el-collapse-transition"),x=v("el-table-column"),Q=v("el-icon"),q=v("el-tag"),Pt=v("el-tooltip"),z=v("el-dropdown-item"),At=v("el-dropdown-menu"),Et=v("el-dropdown"),$t=v("el-table"),Ut=v("el-pagination"),je=v("el-empty"),ce=v("el-dialog"),Ft=v("el-checkbox"),Re=v("el-form"),Te=v("el-tab-pane"),qt=v("el-button-group"),Oe=v("el-text"),zt=v("el-tabs"),J=v("el-radio"),xe=v("el-radio-group"),Ht=Gt("loading");return _(),T("div",ua,[c("div",ca,[e[34]||(e[34]=c("div",{class:"header-content"},[c("h1",{class:"page-title"},"æ•…éšœæ ‘ç®¡ç†"),c("p",{class:"page-description"},"ç®¡ç†å’Œç»´æŠ¤ç³»ç»Ÿä¸­çš„æ‰€æœ‰æ•…éšœæ ‘æ¨¡å‹")],-1)),c("div",pa,[a(n,{type:"primary",icon:w(Y),onClick:nt},{default:o(()=>[...e[31]||(e[31]=[p(" æ–°å»ºæ•…éšœæ ‘ ",-1)])]),_:1},8,["icon"]),a(n,{icon:w(Wt),onClick:bt},{default:o(()=>[...e[32]||(e[32]=[p(" å¯¼å…¥æ•…éšœæ ‘ ",-1)])]),_:1},8,["icon"]),a(n,{icon:w(Ae),onClick:ht,disabled:le.value.length===0},{default:o(()=>[...e[33]||(e[33]=[p(" æ‰¹é‡å¯¼å‡º ",-1)])]),_:1},8,["icon","disabled"])])]),c("div",fa,[c("div",ma,[a(d,{modelValue:y.keyword,"onUpdate:modelValue":e[0]||(e[0]=i=>y.keyword=i),placeholder:"æœç´¢æ•…éšœæ ‘åç§°ã€æè¿°æˆ–æ ‡ç­¾...","prefix-icon":w(Bt),class:"search-input",onInput:Le,clearable:""},null,8,["modelValue","prefix-icon"])]),c("div",va,[a(m,{modelValue:y.status,"onUpdate:modelValue":e[1]||(e[1]=i=>y.status=i),placeholder:"çŠ¶æ€ç­›é€‰",multiple:"","collapse-tags":"","collapse-tags-tooltip":"",onChange:K},{default:o(()=>[a(s,{label:"è‰ç¨¿",value:"draft"}),a(s,{label:"æ´»è·ƒ",value:"active"}),a(s,{label:"å½’æ¡£",value:"archived"}),a(s,{label:"æ¨¡æ¿",value:"template"})]),_:1},8,["modelValue"]),a(m,{modelValue:y.category,"onUpdate:modelValue":e[2]||(e[2]=i=>y.category=i),placeholder:"æ•…éšœç±»åˆ«",multiple:"","collapse-tags":"",onChange:K},{default:o(()=>[a(s,{label:"å˜å‹å™¨æ•…éšœ",value:"transformer"}),a(s,{label:"å¼€å…³æ•…éšœ",value:"switch"}),a(s,{label:"æ¯çº¿æ•…éšœ",value:"busbar"}),a(s,{label:"ä¿æŠ¤ç³»ç»Ÿ",value:"protection"})]),_:1},8,["modelValue"]),a(n,{icon:w(Lt),onClick:e[3]||(e[3]=i=>ae.value=!ae.value)},{default:o(()=>[...e[35]||(e[35]=[p(" é«˜çº§ç­›é€‰ ",-1)])]),_:1},8,["icon"]),a(n,{icon:w(Xt),onClick:Ge},{default:o(()=>[...e[36]||(e[36]=[p(" åˆ·æ–° ",-1)])]),_:1},8,["icon"])])]),a(xt,null,{default:o(()=>[ae.value?(_(),T("div",_a,[a(ue,null,{header:o(()=>[...e[37]||(e[37]=[c("span",null,"é«˜çº§ç­›é€‰é€‰é¡¹",-1)])]),default:o(()=>[a(Z,{gutter:20},{default:o(()=>[a(b,{span:8},{default:o(()=>[a(u,{label:"è®¾å¤‡ç±»å‹"},{default:o(()=>[a(m,{modelValue:y.equipment_type,"onUpdate:modelValue":e[4]||(e[4]=i=>y.equipment_type=i),multiple:"",placeholder:"é€‰æ‹©è®¾å¤‡ç±»å‹"},{default:o(()=>[a(s,{label:"ç”µåŠ›å˜å‹å™¨",value:"power_transformer"}),a(s,{label:"é…ç”µå˜å‹å™¨",value:"distribution_transformer"}),a(s,{label:"æ–­è·¯å™¨",value:"circuit_breaker"}),a(s,{label:"éš”ç¦»å¼€å…³",value:"disconnector"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(b,{span:8},{default:o(()=>[a(u,{label:"åˆ›å»ºæ—¶é—´"},{default:o(()=>[a(M,{modelValue:me.value,"onUpdate:modelValue":e[5]||(e[5]=i=>me.value=i),type:"datetimerange","range-separator":"è‡³","start-placeholder":"å¼€å§‹æ—¶é—´","end-placeholder":"ç»“æŸæ—¶é—´",onChange:Xe},null,8,["modelValue"])]),_:1})]),_:1}),a(b,{span:8},{default:o(()=>[a(u,{label:"èŠ‚ç‚¹æ•°é‡"},{default:o(()=>[a(Ot,{modelValue:W.value,"onUpdate:modelValue":e[6]||(e[6]=i=>W.value=i),range:"",min:0,max:200,step:5,onChange:Ke},null,8,["modelValue"]),c("div",ga,k(W.value[0])+" - "+k(W.value[1])+" ä¸ªèŠ‚ç‚¹",1)]),_:1})]),_:1})]),_:1})]),_:1})])):N("",!0)]),_:1}),c("div",wa,[Kt((_(),D($t,{data:Je.value,onSelectionChange:Ze,onRowClick:Qe,stripe:"",style:{width:"100%"}},{default:o(()=>[a(x,{type:"selection",width:"55"}),a(x,{prop:"name",label:"æ•…éšœæ ‘åç§°","min-width":"200"},{default:o(({row:i})=>[c("div",ya,[a(Q,{class:"tree-icon"},{default:o(()=>[a(w(Zt))]),_:1}),c("div",ha,[c("div",ba,k(i.metadata.name),1),c("div",ka,"v"+k(i.metadata.version),1)]),i.metadata.is_template?(_(),D(q,{key:0,type:"info",size:"small",class:"template-tag"},{default:o(()=>[...e[38]||(e[38]=[p(" æ¨¡æ¿ ",-1)])]),_:1})):N("",!0)])]),_:1}),a(x,{prop:"description",label:"æè¿°","min-width":"150"},{default:o(({row:i})=>[a(Pt,{content:i.metadata.description,disabled:!i.metadata.description},{default:o(()=>[c("span",Da,k(St(i.metadata.description,50)),1)]),_:2},1032,["content","disabled"])]),_:1}),a(x,{prop:"status",label:"çŠ¶æ€",width:"100"},{default:o(({row:i})=>[a(q,{type:Nt(i.metadata.status)},{default:o(()=>[p(k(Ct(i.metadata.status)),1)]),_:2},1032,["type"])]),_:1}),a(x,{prop:"category",label:"ç±»åˆ«",width:"120"},{default:o(({row:i})=>[p(k(Vt(i.metadata.category)),1)]),_:1}),a(x,{prop:"statistics",label:"ç»Ÿè®¡",width:"150"},{default:o(({row:i})=>[c("div",Na,[c("div",Ca,[a(Q,null,{default:o(()=>[a(w(Qt))]),_:1}),c("span",null,k(i.metadata.node_count),1)]),c("div",Va,[a(Q,null,{default:o(()=>[a(w(Yt))]),_:1}),c("span",null,k(i.metadata.gate_count),1)]),c("div",Ia,[a(Q,null,{default:o(()=>[a(w(ea))]),_:1}),c("span",null,k(i.metadata.depth),1)])])]),_:1}),a(x,{prop:"tags",label:"æ ‡ç­¾",width:"150"},{default:o(({row:i})=>[c("div",Sa,[(_(!0),T(Ee,null,$e(i.metadata.tags.slice(0,2),E=>(_(),D(q,{key:E,size:"small",class:"tag-item"},{default:o(()=>[p(k(E),1)]),_:2},1024))),128)),i.metadata.tags.length>2?(_(),D(q,{key:0,size:"small",type:"info",class:"more-tags"},{default:o(()=>[p(" +"+k(i.metadata.tags.length-2),1)]),_:2},1024)):N("",!0)])]),_:1}),a(x,{prop:"updated_at",label:"æ›´æ–°æ—¶é—´",width:"160"},{default:o(({row:i})=>[c("div",ja,[c("div",Ra,k(It(i.metadata.updated_at)),1),c("div",Ta,k(i.metadata.updated_by),1)])]),_:1}),a(x,{label:"æ“ä½œ",width:"200",fixed:"right"},{default:o(({row:i})=>[c("div",Oa,[a(n,{link:"",type:"primary",icon:w(ta),onClick:pe(E=>we(i),["stop"])},{default:o(()=>[...e[39]||(e[39]=[p(" é¢„è§ˆ ",-1)])]),_:1},8,["icon","onClick"]),a(n,{link:"",type:"primary",icon:w(Ue),onClick:pe(E=>dt(i),["stop"]),disabled:!i.metadata.permissions.canEdit},{default:o(()=>[...e[40]||(e[40]=[p(" ç¼–è¾‘ ",-1)])]),_:1},8,["icon","onClick","disabled"]),a(Et,{onCommand:E=>ft(E,i),trigger:"click"},{dropdown:o(()=>[a(At,null,{default:o(()=>[a(z,{command:"clone",icon:w(la)},{default:o(()=>[...e[41]||(e[41]=[p("å…‹éš†",-1)])]),_:1},8,["icon"]),a(z,{command:"export",icon:w(Ae)},{default:o(()=>[...e[42]||(e[42]=[p("å¯¼å‡º",-1)])]),_:1},8,["icon"]),a(z,{command:"template",icon:w(oa)},{default:o(()=>[...e[43]||(e[43]=[p("è®¾ä¸ºæ¨¡æ¿",-1)])]),_:1},8,["icon"]),i.metadata.status!=="archived"?(_(),D(z,{key:0,command:"archive",icon:w(na)},{default:o(()=>[...e[44]||(e[44]=[p(" å½’æ¡£ ",-1)])]),_:1},8,["icon"])):N("",!0),i.metadata.status==="archived"?(_(),D(z,{key:1,command:"activate",icon:w(da)},{default:o(()=>[...e[45]||(e[45]=[p(" æ¿€æ´» ",-1)])]),_:1},8,["icon"])):N("",!0),a(z,{command:"delete",icon:w(Fe),disabled:!i.metadata.permissions.canDelete,divided:""},{default:o(()=>[...e[46]||(e[46]=[p(" åˆ é™¤ ",-1)])]),_:1},8,["icon","disabled"])]),_:2},1024)]),default:o(()=>[a(n,{link:"",type:"primary",icon:w(aa),onClick:e[7]||(e[7]=pe(()=>{},["stop"]))},null,8,["icon"])]),_:2},1032,["onCommand"])])]),_:1})]),_:1},8,["data"])),[[Ht,ee.value]]),c("div",xa,[a(Ut,{"current-page":S.currentPage,"onUpdate:currentPage":e[8]||(e[8]=i=>S.currentPage=i),"page-size":S.pageSize,"onUpdate:pageSize":e[9]||(e[9]=i=>S.pageSize=i),"page-sizes":[10,20,50,100],small:!1,background:!0,layout:"total, sizes, prev, pager, next, jumper",total:ge.value.length,onSizeChange:Ye,onCurrentChange:et},null,8,["current-page","page-size","total"])])]),a(ce,{modelValue:oe.value,"onUpdate:modelValue":e[10]||(e[10]=i=>oe.value=i),title:"æ•…éšœæ ‘é¢„è§ˆ",width:"90%",top:"5vh","close-on-click-modal":!1},{default:o(()=>[O.value?(_(),T("div",Pa,[c("div",Aa,[c("div",Ea,[c("h3",null,k(O.value.metadata.name),1),c("p",null,k(O.value.metadata.description),1)])]),c("div",$a,[a(ue,{class:"tree-display-full",shadow:"never",style:{height:"100%",overflow:"hidden",border:"none"}},{default:o(()=>[G.value?(_(),T("div",Ua,[a(qe,{"workflow-data":G.value,"show-toolbar":!0,interactive:!0,onNodeClick:tt,onNodeDoubleClick:at},null,8,["workflow-data"])])):(_(),T("div",Fa,[a(je,{description:"æš‚æ— æ•…éšœæ ‘æ•°æ®","image-size":120})]))]),_:1})])])):N("",!0)]),_:1},8,["modelValue"]),a(ce,{modelValue:$.value,"onUpdate:modelValue":e[21]||(e[21]=i=>$.value=i),title:H.value==="create"?"æ–°å»ºæ•…éšœæ ‘":"ç¼–è¾‘æ•…éšœæ ‘",width:"80%",top:"5vh","close-on-click-modal":!1},{footer:o(()=>[c("span",Xa,[a(n,{onClick:e[20]||(e[20]=i=>$.value=!1)},{default:o(()=>[...e[55]||(e[55]=[p("å–æ¶ˆ",-1)])]),_:1}),a(n,{type:"primary",onClick:it,loading:te.value},{default:o(()=>[p(k(H.value==="create"?"åˆ›å»º":"ä¿å­˜"),1)]),_:1},8,["loading"])])]),default:o(()=>[l.value?(_(),T("div",qa,[a(zt,{modelValue:B.value,"onUpdate:modelValue":e[19]||(e[19]=i=>B.value=i),type:"card"},{default:o(()=>[a(Te,{label:"åŸºæœ¬ä¿¡æ¯",name:"basic"},{default:o(()=>[a(Re,{ref:"editFormRef",model:l.value.metadata,rules:He,"label-width":"120px"},{default:o(()=>[a(Z,{gutter:20},{default:o(()=>[a(b,{span:12},{default:o(()=>[a(u,{label:"æ•…éšœæ ‘åç§°",prop:"name"},{default:o(()=>[a(d,{modelValue:l.value.metadata.name,"onUpdate:modelValue":e[11]||(e[11]=i=>l.value.metadata.name=i),placeholder:"è¯·è¾“å…¥æ•…éšœæ ‘åç§°"},null,8,["modelValue"])]),_:1})]),_:1}),a(b,{span:12},{default:o(()=>[a(u,{label:"ç‰ˆæœ¬å·",prop:"version"},{default:o(()=>[a(d,{modelValue:l.value.metadata.version,"onUpdate:modelValue":e[12]||(e[12]=i=>l.value.metadata.version=i),placeholder:"å¦‚: 1.0.0"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(u,{label:"æè¿°",prop:"description"},{default:o(()=>[a(d,{modelValue:l.value.metadata.description,"onUpdate:modelValue":e[13]||(e[13]=i=>l.value.metadata.description=i),type:"textarea",rows:3,placeholder:"è¯·è¾“å…¥æ•…éšœæ ‘æè¿°"},null,8,["modelValue"])]),_:1}),a(Z,{gutter:20},{default:o(()=>[a(b,{span:8},{default:o(()=>[a(u,{label:"çŠ¶æ€",prop:"status"},{default:o(()=>[a(m,{modelValue:l.value.metadata.status,"onUpdate:modelValue":e[14]||(e[14]=i=>l.value.metadata.status=i)},{default:o(()=>[a(s,{label:"è‰ç¨¿",value:"draft"}),a(s,{label:"æ´»è·ƒ",value:"active"}),a(s,{label:"å½’æ¡£",value:"archived"}),a(s,{label:"æ¨¡æ¿",value:"template"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(b,{span:8},{default:o(()=>[a(u,{label:"æ•…éšœç±»åˆ«",prop:"category"},{default:o(()=>[a(m,{modelValue:l.value.metadata.category,"onUpdate:modelValue":e[15]||(e[15]=i=>l.value.metadata.category=i)},{default:o(()=>[a(s,{label:"å˜å‹å™¨æ•…éšœ",value:"transformer"}),a(s,{label:"å¼€å…³æ•…éšœ",value:"switch"}),a(s,{label:"æ¯çº¿æ•…éšœ",value:"busbar"}),a(s,{label:"ä¿æŠ¤ç³»ç»Ÿ",value:"protection"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(b,{span:8},{default:o(()=>[a(u,{label:"è®¾å¤‡ç±»å‹",prop:"equipment_type"},{default:o(()=>[a(m,{modelValue:l.value.metadata.equipment_type,"onUpdate:modelValue":e[16]||(e[16]=i=>l.value.metadata.equipment_type=i)},{default:o(()=>[a(s,{label:"ç”µåŠ›å˜å‹å™¨",value:"power_transformer"}),a(s,{label:"é…ç”µå˜å‹å™¨",value:"distribution_transformer"}),a(s,{label:"æ–­è·¯å™¨",value:"circuit_breaker"}),a(s,{label:"éš”ç¦»å¼€å…³",value:"disconnector"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(u,{label:"æ ‡ç­¾"},{default:o(()=>[(_(!0),T(Ee,null,$e(l.value.metadata.tags,i=>(_(),D(q,{key:i,closable:"",onClose:E=>kt(i),class:"tag-item"},{default:o(()=>[p(k(i),1)]),_:2},1032,["onClose"]))),128)),ne.value?(_(),D(d,{key:0,ref_key:"tagInputRef",ref:_e,modelValue:X.value,"onUpdate:modelValue":e[17]||(e[17]=i=>X.value=i),class:"tag-input",size:"small",onKeyup:ia(De,["enter"]),onBlur:De},null,8,["modelValue"])):(_(),D(n,{key:1,class:"button-new-tag",size:"small",onClick:Dt},{default:o(()=>[...e[47]||(e[47]=[p(" + æ·»åŠ æ ‡ç­¾ ",-1)])]),_:1}))]),_:1}),a(u,{label:"æ¨¡æ¿é€‰é¡¹"},{default:o(()=>[a(Ft,{modelValue:l.value.metadata.is_template,"onUpdate:modelValue":e[18]||(e[18]=i=>l.value.metadata.is_template=i)},{default:o(()=>[...e[48]||(e[48]=[p("è®¾ä¸ºæ¨¡æ¿",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),a(Te,{label:"èŠ‚ç‚¹ç¼–è¾‘",name:"nodes"},{default:o(()=>[c("div",za,[c("div",Ha,[a(Z,{gutter:16,align:"middle"},{default:o(()=>[a(b,{span:16},{default:o(()=>[a(qt,null,{default:o(()=>[a(n,{type:"primary",icon:w(Y),onClick:st,disabled:!0},{default:o(()=>[...e[49]||(e[49]=[p(" æ·»åŠ æ ¹èŠ‚ç‚¹ ",-1)])]),_:1},8,["icon"]),a(n,{icon:w(Y),onClick:rt,disabled:!h.value},{default:o(()=>[...e[50]||(e[50]=[p(" æ·»åŠ å­èŠ‚ç‚¹ ",-1)])]),_:1},8,["icon","disabled"]),a(n,{icon:w(Y),onClick:ut,disabled:!h.value},{default:o(()=>[...e[51]||(e[51]=[p(" æ·»åŠ å…„å¼ŸèŠ‚ç‚¹ ",-1)])]),_:1},8,["icon","disabled"]),a(n,{icon:w(Ue),onClick:ke,disabled:!h.value},{default:o(()=>[...e[52]||(e[52]=[p(" ç¼–è¾‘èŠ‚ç‚¹ ",-1)])]),_:1},8,["icon","disabled"]),a(n,{icon:w(Fe),onClick:ct,disabled:!h.value},{default:o(()=>[...e[53]||(e[53]=[p(" åˆ é™¤èŠ‚ç‚¹ ",-1)])]),_:1},8,["icon","disabled"])]),_:1})]),_:1}),a(b,{span:8},{default:o(()=>[c("div",Ma,[h.value?(_(),D(q,{key:0,type:"success",size:"small"},{default:o(()=>[p(" å·²é€‰æ‹©: "+k(We()),1)]),_:1})):(_(),D(Oe,{key:1,type:"info",size:"small"},{default:o(()=>[...e[54]||(e[54]=[p("è¯·å…ˆé€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹",-1)])]),_:1}))])]),_:1})]),_:1})]),c("div",Ja,[c("div",Wa,[a(ue,{class:"tree-display-full",shadow:"never",style:{height:"100%",overflow:"hidden",border:"none"}},{default:o(()=>[lt.value?(_(),T("div",Ba,[a(qe,{"workflow-data":ot(),"show-toolbar":!0,interactive:!0,onNodeClick:he,onNodeDoubleClick:be},null,8,["workflow-data"])])):(_(),T("div",La,[a(je,{description:"æš‚æ— èŠ‚ç‚¹ï¼Œè¯·å…ˆæ·»åŠ æ ¹èŠ‚ç‚¹","image-size":120})]))]),_:1})])])])]),_:1})]),_:1},8,["modelValue"])])):N("",!0)]),_:1},8,["modelValue","title"]),a(ce,{modelValue:j.value,"onUpdate:modelValue":e[30]||(e[30]=i=>j.value=i),title:V.value==="create"?"æ·»åŠ èŠ‚ç‚¹":"ç¼–è¾‘èŠ‚ç‚¹",width:"60%"},{footer:o(()=>[c("span",Ga,[a(n,{onClick:Tt},{default:o(()=>[...e[62]||(e[62]=[p("å–æ¶ˆ",-1)])]),_:1}),a(n,{type:"primary",onClick:pt},{default:o(()=>[...e[63]||(e[63]=[p("ä¿å­˜èŠ‚ç‚¹",-1)])]),_:1})])]),default:o(()=>[r.value?(_(),D(Re,{key:0,ref:"nodeEditFormRef",model:r.value,rules:Me,"label-width":"120px"},{default:o(()=>[r.value.hideNameField?N("",!0):(_(),D(u,{key:0,label:"èŠ‚ç‚¹åç§°",prop:"name"},{default:o(()=>[a(d,{modelValue:r.value.name,"onUpdate:modelValue":e[22]||(e[22]=i=>r.value.name=i),placeholder:"è¯·è¾“å…¥èŠ‚ç‚¹åç§°",onInput:A},null,8,["modelValue"])]),_:1})),V.value==="create"&&r.value.parent_id?(_(),D(u,{key:1,label:"çˆ¶èŠ‚ç‚¹",prop:"parent_id"},{default:o(()=>[a(d,{value:Be(),disabled:"",placeholder:"çˆ¶èŠ‚ç‚¹"},null,8,["value"])]),_:1})):N("",!0),a(u,{label:"èŠ‚ç‚¹ç±»å‹",prop:"type"},{default:o(()=>[a(xe,{modelValue:r.value.type,"onUpdate:modelValue":e[23]||(e[23]=i=>r.value.type=i)},{default:o(()=>[a(J,{label:"fault_node"},{default:o(()=>[...e[56]||(e[56]=[p("æ•…éšœèŠ‚ç‚¹",-1)])]),_:1}),a(J,{label:"logic_gate"},{default:o(()=>[...e[57]||(e[57]=[p("é€»è¾‘é—¨",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),r.value.type==="fault_node"?(_(),D(u,{key:2,label:"èŠ‚ç‚¹å±‚çº§",prop:"level"},{default:o(()=>[a(m,{modelValue:r.value.level,"onUpdate:modelValue":e[24]||(e[24]=i=>r.value.level=i),placeholder:"é€‰æ‹©èŠ‚ç‚¹å±‚çº§",onChange:A},{default:o(()=>[a(s,{label:"æ ¹èŠ‚ç‚¹",value:"æ ¹èŠ‚ç‚¹"}),a(s,{label:"ä¸­é—´å±‚",value:"ä¸­é—´å±‚"}),a(s,{label:"å¶å­èŠ‚ç‚¹",value:"å¶å­èŠ‚ç‚¹"})]),_:1},8,["modelValue"])]),_:1})):N("",!0),r.value.type==="logic_gate"?(_(),D(u,{key:3,label:"é€»è¾‘é—¨ç±»å‹",prop:"gate_type"},{default:o(()=>[a(m,{modelValue:r.value.gate_type,"onUpdate:modelValue":e[25]||(e[25]=i=>r.value.gate_type=i),onChange:A},{default:o(()=>[a(s,{label:"ä¸é—¨ (AND)",value:"AND"}),a(s,{label:"æˆ–é—¨ (OR)",value:"OR"}),a(s,{label:"éé—¨ (NOT)",value:"NOT"})]),_:1},8,["modelValue"])]),_:1})):N("",!0),a(u,{label:"æè¿°",prop:"description"},{default:o(()=>[a(d,{modelValue:r.value.description,"onUpdate:modelValue":e[26]||(e[26]=i=>r.value.description=i),type:"textarea",rows:3,placeholder:"è¯·è¾“å…¥èŠ‚ç‚¹æè¿°",onInput:A},null,8,["modelValue"])]),_:1}),r.value.type==="logic_gate"?(_(),D(u,{key:4,label:"åˆ¤æ–­æ¡ä»¶",prop:"condition"},{default:o(()=>[a(d,{modelValue:r.value.condition,"onUpdate:modelValue":e[27]||(e[27]=i=>r.value.condition=i),type:"textarea",rows:2,placeholder:`ä¾‹å¦‚: H2_ppm > 150 AND CH4_ppm > 50
æ”¯æŒçš„æ“ä½œç¬¦: >, <, >=, <=, ==, !=
æ”¯æŒçš„é€»è¾‘: AND, OR, NOT`,onInput:A},null,8,["modelValue"]),c("div",Ka,[a(Oe,{type:"info",size:"small"},{default:o(()=>[...e[58]||(e[58]=[p(" å¸¸ç”¨å‚æ•°: H2_ppm, CH4_ppm, C2H6_ppm, C2H4_ppm, C2H2_ppm, CO_ppm, CO2_ppm ",-1)])]),_:1})])]),_:1})):N("",!0),r.value.type==="logic_gate"?(_(),D(u,{key:5,label:"é€»è¾‘é—¨çŠ¶æ€",prop:"state"},{default:o(()=>[a(xe,{modelValue:r.value.state,"onUpdate:modelValue":e[28]||(e[28]=i=>r.value.state=i),onChange:A},{default:o(()=>[a(J,{label:"unknown"},{default:o(()=>[...e[59]||(e[59]=[p("æœªçŸ¥",-1)])]),_:1}),a(J,{label:"true"},{default:o(()=>[...e[60]||(e[60]=[p("çœŸ",-1)])]),_:1}),a(J,{label:"false"},{default:o(()=>[...e[61]||(e[61]=[p("å‡",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})):N("",!0),r.value.type==="fault_node"?(_(),D(u,{key:6,label:"æ¨èæªæ–½",prop:"recommendation"},{default:o(()=>[a(d,{modelValue:r.value.recommendation,"onUpdate:modelValue":e[29]||(e[29]=i=>r.value.recommendation=i),type:"textarea",rows:2,placeholder:"è¯·è¾“å…¥æ¨èçš„å¤„ç†æªæ–½",onInput:A},null,8,["modelValue"])]),_:1})):N("",!0)]),_:1},8,["model"])):N("",!0)]),_:1},8,["modelValue","title"])])}}}),il=sa(Za,[["__scopeId","data-v-e2852162"]]);export{il as default};
